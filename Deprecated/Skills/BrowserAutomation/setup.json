{
  "setupComplete": true,
  "prerequisites": {
    "chrome": {
      "required": true,
      "installed": true,
      "description": "Google Chrome browser"
    },
    "dependencies": {
      "required": true,
      "installed": true,
      "description": "Node.js dependencies (pnpm install completed)"
    },
    "apiKey": {
      "required": true,
      "configured": true,
      "description": "Uses CLAUDE_CODE_OAUTH_TOKEN from ~/.claude/.env (subscription-based, preferred) or falls back to Claude Code keychain or ANTHROPIC_API_KEY"
    },
    "browserCommand": {
      "required": true,
      "installed": true,
      "description": "Browser CLI command globally linked (pnpm link)"
    }
  },
  "tokenPriority": {
    "1": "CLAUDE_CODE_OAUTH_TOKEN from ~/.claude/.env (subscription, preferred)",
    "2": "Claude Code keychain token (via security find-generic-password)",
    "3": "ANTHROPIC_API_KEY from environment (billed API, fallback)"
  },
  "setupInstructions": [
    "1. Run: pnpm install (this will automatically build TypeScript)",
    "2. Run: pnpm link --global (this creates the global 'browser' command)",
    "3. Ensure CLAUDE_CODE_OAUTH_TOKEN is set in ~/.claude/.env (preferred for subscription usage)",
    "   OR alternatively set ANTHROPIC_API_KEY in environment or .env file",
    "4. Ensure Google Chrome is installed on your system",
    "5. Test installation: DEBUG=true browser navigate https://example.com",
    "6. Verify output shows 'Using CLAUDE_CODE_OAUTH_TOKEN (subscription)'"
  ],
  "verifySetup": "Run 'DEBUG=true browser navigate https://example.com' - should show 'Using CLAUDE_CODE_OAUTH_TOKEN (subscription)'",
  "stagehandVersion": "2.5.6",
  "notes": "DO NOT upgrade to Stagehand 3.x - it has breaking API changes"
}
